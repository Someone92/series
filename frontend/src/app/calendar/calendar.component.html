<ng-template #loading>
	<div class="text-center">
		<i class="fa fa-spin fa-spinner fa-5x"></i>
	<br>
	Loading events...
	</div>
</ng-template>

<ng-template
	#customMonthTemplate
	let-day="day">

	<div class="cal-cell-header">
		<span class="cal-cell-day">
			{{ day.date | calendarDate:'monthViewDayNumber':locale }}
			{{ day.date | date:"EEEE" }}
		</span>
		<span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{ day.badgeTotal }}</span>
	</div>

	<!-- Displays events on the calendar-->
	<div class="cal-events" *ngIf="day.events.length > 0">
		<div style="display:inline-block;width:100%;line-height:normal"
			*ngFor="let event of day.events">
			{{ event.title }}
		</div>
	</div>
</ng-template>



<ng-template
	#customWeekTemplate
	let-days="days">
		<div class="calendar--week">
			<div *ngFor="let day of days">
				{{ day.date | calendarDate: 'weekViewColumnHeader':locale }}
			</div>
		</div>
</ng-template>


<div class="calendar" *ngIf="events | async; else loading; let events">

	
	<div class="calendar__sidebar">
		<app-calendar-toolbar
			[(view)]=view
			[(viewDate)]="viewDate">
		</app-calendar-toolbar>
	</div>

	<div class="calendar__main" [ngSwitch]="view">
		

		<mwl-calendar-month-view-header
			style="display: none"
			[days]="columnHeaders"
			[locale]="locale"
			[customTemplate]="headerTemplate">
		</mwl-calendar-month-view-header>

		<mwl-calendar-month-view
			*ngSwitchCase="CalendarView.Month"
			[weekStartsOn]="1"
			[viewDate]="viewDate"
			[events]="events"
			[cellTemplate]="customMonthTemplate">
		</mwl-calendar-month-view>

		<mwl-calendar-week-view
			*ngSwitchCase="CalendarView.Week"
			[viewDate]="viewDate"
			[events]="events"
			[headerTemplate]="customWeekTemplate">
		</mwl-calendar-week-view>
	</div>







</div>
