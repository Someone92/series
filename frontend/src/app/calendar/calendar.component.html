<ng-template #loading>
	<div class="text-center">
		<i class="fa fa-spin fa-spinner fa-5x"></i>
	<br>
	Loading events...
	</div>
</ng-template>


<ng-template
	#customCellTemplate
	let-day="day"
	let-locale="locale"
	let-tooltipPlacement="tooltipPlacement"
	let-highlightDay="highlightDay"
	let-unhighlightDay="unhighlightDay"
	let-eventClicked="eventClicked"
	let-tooltipTemplate="tooltipTemplate"
	let-tooltipAppendToBody="tooltipAppendToBody">
	<div style="min-height: 20px">
		<span class="cal-day-badge" *ngIf="day.badgeTotal > 0">{{ day.badgeTotal }}</span>
		<span class="cal-day-number">{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span>
	</div>
	<div class="cal-events" *ngIf="day.events.length > 0">
		<div style="display:inline-block;width:100%;line-height:normal"
			*ngFor="let event of day.events">
			{{ event.title }}
		</div>
	</div>
</ng-template>


<div *ngIf="events | async; else loading; let events">
	<mwl-calendar-month-view
		[viewDate]="viewDate"
		[events]="events"
		[cellTemplate]="customCellTemplate">
	</mwl-calendar-month-view>
</div>